(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{43:function(e,t,n){e.exports=n(79)},48:function(e,t,n){},49:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(36),i=n.n(c),l=(n(48),n(49),n(5)),s=n(7),o=n(14),u=n.n(o);n(25),n(54);u.a.initializeApp({apiKey:"AIzaSyCDYVSWCA_qwexbRcnn8hI9kCAUepx1ZCo",authDomain:"whatsfordinner3-1da9c.firebaseapp.com",databaseURL:"https://whatsfordinner3-1da9c.firebaseio.com",projectId:"whatsfordinner3-1da9c",storageBucket:"whatsfordinner3-1da9c.appspot.com",messagingSenderId:"244213751470",appId:"1:244213751470:web:ff156c97caf5d38a94173f"}),u.a.firestore();var m=u.a.auth(),d=u.a.firestore(),p=(u.a,n(6)),f=r.a.createContext(),v=function(e){var t=e.children,n=Object(a.useState)(null),c=Object(p.a)(n,2),i=c[0],l=c[1];return Object(a.useEffect)(function(){m.onAuthStateChanged(l)},[]),r.a.createElement(f.Provider,{value:{currentUser:i}},t)},E=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Profile"),r.a.createElement("button",{className:"waves-effect waves-light btn-small red",onClick:function(){return m.signOut()}},"Sign out"))},h=n(2),g=n.n(h),b=n(3),w=Object(s.g)(function(e){var t=e.history,n=Object(a.useCallback)(function(){var e=Object(b.a)(g.a.mark(function e(n){var a,r,c;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a=n.target.elements,r=a.email,c=a.password,e.prev=2,e.next=5,m.signInWithEmailAndPassword(r.value,c.value);case 5:t.push("/list"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert(e.t0);case 11:case"end":return e.stop()}},e,null,[[2,8]])}));return function(t){return e.apply(this,arguments)}}(),[t]);return Object(a.useContext)(f).currentUser?r.a.createElement(s.a,{to:"/list"}):r.a.createElement("div",{className:"showcase container"},r.a.createElement("h1",null,"Login"),r.a.createElement("form",{onSubmit:n},r.a.createElement("label",null,"Email",r.a.createElement("input",{name:"email",type:"email",placeholder:"Email"})),r.a.createElement("label",null,"Password",r.a.createElement("input",{name:"password",type:"password",placeholder:"Password"})),r.a.createElement("button",{type:"submit",className:"waves-effect waves-light btn-small indigo"},"Log in")),r.a.createElement("h6",null,"New User? ",r.a.createElement(l.b,{to:"/signup"},"Sign Up")))}),x=Object(s.g)(function(e){var t=e.history,n=Object(a.useCallback)(function(){var e=Object(b.a)(g.a.mark(function e(n){var a,r,c;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a=n.target.elements,r=a.email,c=a.password,e.prev=2,e.next=5,m.createUserWithEmailAndPassword(r.value,c.value);case 5:t.push("/list"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert(e.t0);case 11:case"end":return e.stop()}},e,null,[[2,8]])}));return function(t){return e.apply(this,arguments)}}(),[t]);return Object(a.useContext)(f).currentUser?r.a.createElement(s.a,{to:"/"}):r.a.createElement("div",{className:"showcase container"},r.a.createElement("h1",null,"Sign up"),r.a.createElement("form",{onSubmit:n},r.a.createElement("label",null,"Email",r.a.createElement("input",{name:"email",type:"email",placeholder:"Email"})),r.a.createElement("label",null,"Password",r.a.createElement("input",{name:"password",type:"password",placeholder:"Password"})),r.a.createElement("button",{type:"submit",className:"waves-effect waves-light btn-small indigo"},"Sign Up"),r.a.createElement("h6",null,"Already have an account? ",r.a.createElement(l.b,{to:"/login"},"Login"))))}),j=n(17),O=n.n(j),N=function(e){var t=e.recipe,n=t.id,c=t.title,i=t.image,l=t.missedIngredients,s=t.usedIngredients,o=t.unusedIngredients,u=Object(a.useContext)(f).currentUser,m=function(){var e=Object(b.a)(g.a.mark(function e(){var t,a,r;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={title:c,userId:u.uid,image:i},e.prev=1,e.next=4,O.a.get("https://api.spoonacular.com/recipes/"+n+"/analyzedInstructions?apiKey=");case 4:a=e.sent,r=a.data,t.steps=r[0].steps.map(function(e){return e.step}),console.log(t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("No Recipe",e.t0);case 13:return e.next=15,d.collection("favoriteRecipes").add(t);case 15:case"end":return e.stop()}},e,null,[[1,10]])}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"col s12 l12"},r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 m6 l4"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-image"},r.a.createElement("img",{src:i,alt:c}),r.a.createElement("span",{className:"card-title"},c),r.a.createElement("a",{className:"btn-floating halfway-fab waves-effect waves-light red"},r.a.createElement("i",{className:"material-icons",onClick:m},"+"))),r.a.createElement("div",{className:"card-content"},r.a.createElement("p",null,"Used Ingredients: ",s.join(", ")),r.a.createElement("p",null,"Missed Ingredients: ",l.join(", ")),r.a.createElement("p",null,"Unused Ingredients: ",o.join(", "))))))))},I=function(){var e=Object(a.useContext)(f).currentUser,t=Object(a.useState)([]),n=Object(p.a)(t,2),c=n[0],i=n[1],l=Object(a.useState)([]),s=Object(p.a)(l,2),o=s[0],u=s[1];Object(a.useEffect)(function(){e&&m(e.uid)},[e]),Object(a.useEffect)(function(){c&&v(c)},[c]);var m=function(){var e=Object(b.a)(g.a.mark(function e(t){var n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=[],e.next=4,d.collection("ingredients").where("userId","==",t).get().then(function(e){e.forEach(function(e){var t=e.data();t.id=e.id,n.push(t)})});case 4:i(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("No Ingredients",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),v=function(){var t=Object(b.a)(g.a.mark(function t(n){var a,r,c;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n.length>0&&e)){t.next=7;break}return t.next=3,O.a.get("https://api.spoonacular.com/recipes/findByIngredients?ingredients="+n.map(function(e){return e.name}).join(",+")+"&number=6&apiKey=9dbfb748dfa44db2becd40388c22f59c");case 3:a=t.sent,r=a.data,c=r.map(function(e){return delete e.imageType,delete e.usedIngredientCount,delete e.missedIngredientCount,e.missedIngredients=e.missedIngredients.map(function(e){return e.name}),e.usedIngredients=e.usedIngredients.map(function(e){return e.name}),e.unusedIngredients=e.unusedIngredients.map(function(e){return e.name}),e}),u(c);case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("h1",null,"Recipes"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 m6"},o.map(function(e){return r.a.createElement(N,{key:e.id,recipe:e})}))))},k=n(40),y=n(41),S=function(e){var t=e.ingredients,n=e.deleteIngredient;return t.length?t.map(function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("p",null,e.name,r.a.createElement("button",{className:"btn-mini waves-effect waves-light red right",type:"button",name:"action",onClick:function(){return n(e.id)}},r.a.createElement("i",{className:"material-icons"},"x"))))}):r.a.createElement("p",null,"No Ingredients Yet")},C=n(39),R=n.n(C);function U(e){var t=e.content;return r.a.createElement("div",null,r.a.createElement(R.a,{text:"added ".concat(t),className:"waves-effect waves-light btn-small indigo"}))}var A=new(window.SpeechRecognition||window.webkitSpeechRecognition);A.continous=!0,A.interimResults=!0,A.lang="en-US";var F=function(e){var t=e.startedListening,n=Object(a.useState)(!0),c=Object(p.a)(n,2),i=c[0],l=c[1],s=Object(a.useState)(""),o=Object(p.a)(s,2),u=o[0],m=o[1],d=function(){console.log("started listening!"),i&&A.start();var e="";A.onresult=function(n){for(var a="",r=n.resultIndex;r<n.results.length;r++){var c=n.results[r][0].transcript;n.results[r].isFinal?e+=c+" ":a+=c}m(a),l(!i),t(e)},console.log("DONE LISTENING")};return r.a.createElement("div",{className:"center-align container"},r.a.createElement("input",{disabled:!0,value:u||"Interim Transcription",id:"disabled"}),r.a.createElement("button",{className:"btn waves-effect waves-light grey",id:"microphone-btn",onClick:function(){console.log("BEFORE LISTENING"),l(!i),d()}},"Toggle Speech"),r.a.createElement("div",{id:"interim"}),r.a.createElement("div",{id:"final"}))},L=n(13),P=n.n(L),D={"get favorite recipes":function(){alert("redirect to Favorite RECIPES.")}};P.a.addCommands(D);P.a;var T=function(e){var t=e.history,n=Object(a.useContext)(f).currentUser,c=Object(a.useState)([]),i=Object(p.a)(c,2),l=i[0],s=i[1],o=Object(a.useState)(""),u=Object(p.a)(o,2),m=u[0],v=u[1];Object(a.useEffect)(function(){n&&E(n.uid)},[n]);var E=function(){var e=Object(b.a)(g.a.mark(function e(t){var n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=[],e.next=4,d.collection("ingredients").where("userId","==",t).get().then(function(e){e.forEach(function(e){var t=e.data();t.id=e.id,n.push(t)})});case 4:s(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("No Ingredients",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(b.a)(g.a.mark(function e(t){var n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Object(y.a)({},t),e.next=4,d.collection("ingredients").add(t).then(function(e){return n.id=e.id});case 4:return e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.error("No Ingredients",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(b.a)(g.a.mark(function e(t){var n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.collection("ingredients").doc(t).delete();case 3:n=l.filter(function(e){return e.id!==t}),s(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error deleting ingredient",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(b.a)(g.a.mark(function e(t){var a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,h({name:m,userId:n.uid});case 3:a=e.sent,s([].concat(Object(k.a)(l),[a])),v("");case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(b.a)(g.a.mark(function e(t){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h({name:t,userId:n.uid});case 2:E(n.uid),v("");case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(b.a)(g.a.mark(function e(t){var a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.collection("ingredients").where("userId","==",n.uid).where("name","==",t).get().then(function(e){return e.docs[0].id});case 2:return a=e.sent,e.next=5,d.collection("ingredients").doc(a).delete();case 5:return e.next=7,E(n.uid);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return P.a.start(),n&&P.a.addCommands({"add *tag":function(e){j(e)},"delete *tag":function(e){O(e)},"get recipes":function(){t.push("/recipes")}}),console.log("INGREDIENTS:",l),r.a.createElement("div",null,r.a.createElement("h1",{className:"center-align"},"Your Shopping List"),r.a.createElement(S,{ingredients:l,deleteIngredient:w}),r.a.createElement("form",{onSubmit:x},r.a.createElement("div",{className:"main-header"},r.a.createElement("div",{className:"showcase container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 m10 offset-m1 center"},r.a.createElement("label",{htmlFor:"ingredient"},"Add Ingredient"),r.a.createElement("input",{value:m,name:"name",onChange:function(e){v(e.target.value)}})),r.a.createElement("button",{className:"btn waves-effect waves-light indigo center",type:"submit",name:"action"},"Add Ingredient"),r.a.createElement(U,{content:m,onClick:function(){return x}}))))),r.a.createElement(F,{startedListening:function(e){v(e)},handleTranscript:function(e){v(e)}}))},B=n(42),W=function(e){var t=e.component,n=Object(B.a)(e,["component"]),c=Object(a.useContext)(f).currentUser;return r.a.createElement(s.b,Object.assign({},n,{render:function(e){return c?r.a.createElement(t,e):r.a.createElement(s.a,{to:"/login"})}}))},Y=function(){var e=Object(a.useContext)(f).currentUser;return r.a.createElement("nav",{className:"nav-wrapper indigo"},r.a.createElement("div",{className:"container"},e?r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(l.b,{to:"/list"},"List")),r.a.createElement("li",null,r.a.createElement(l.b,{to:"/recipes"},"Recipes")),r.a.createElement("li",null,r.a.createElement(l.b,{to:"/profile"},"Profile")),r.a.createElement("li",null,r.a.createElement(l.b,{to:"/favoriterecipes"},"Favorite Recipes")))):r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(l.b,{to:"/login"},"Login")),r.a.createElement("li",null,r.a.createElement(l.b,{to:"/signup"},"Sign Up"))))))},z=function(e){var t=e.recipe,n=e.removeFromFavorites,a=t.id,c=t.title,i=t.image;return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 m6"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-image"},r.a.createElement("img",{src:i,alt:c}),r.a.createElement("span",{className:"card-title"},c),r.a.createElement("a",{className:"btn-floating halfway-fab waves-effect waves-light red"},r.a.createElement("i",{className:"material-icons",onClick:function(){return n(a)}},"-"))),r.a.createElement("div",{className:"card-action"},r.a.createElement(l.b,{to:"favoriterecipes/instructions/".concat(a)},"Instructions"))))))},G=function(){var e=Object(a.useContext)(f).currentUser,t=Object(a.useState)([]),n=Object(p.a)(t,2),c=n[0],i=n[1];Object(a.useEffect)(function(){e&&l(e.uid)},[e]);var l=function(){var e=Object(b.a)(g.a.mark(function e(t){var n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=[],e.next=4,d.collection("favoriteRecipes").where("userId","==",t).get().then(function(e){e.forEach(function(e){var t=e.data();t.id=e.id,n.push(t)})});case 4:i(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("No Recipes",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(b.a)(g.a.mark(function e(t){var n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.collection("favoriteRecipes").doc(t).delete();case 3:n=c.filter(function(e){return e.id!==t}),i(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error deleting recipe",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("h1",{className:"center-align"},"Your Favorite Recipes"),c.length?c.map(function(e){return r.a.createElement(z,{key:e.id,recipe:e,removeFromFavorites:s})}):r.a.createElement("p",null,"No Favorite Recipes yet"))},K=function(e){var t=Object(a.useContext)(f).currentUser,n=Object(a.useState)({steps:[]}),c=Object(p.a)(n,2),i=c[0],l=c[1],s=e.match.params.id;Object(a.useEffect)(function(){t&&o(t.uid)},[t]);var o=function(){var e=Object(b.a)(g.a.mark(function e(t){var n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.collection("favoriteRecipes").doc(s).get().then(function(e){return e.data()});case 3:(n=e.sent)&&l(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("No Recipe",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,i.title),r.a.createElement("img",{src:i.image,alt:i.title}),r.a.createElement("ol",null,i.steps.map(function(e){return r.a.createElement("li",{key:e,className:"align-left"},e)})))},J=function(){return r.a.createElement(v,null,r.a.createElement(l.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(Y,null),r.a.createElement(s.d,null,r.a.createElement(W,{exact:!0,path:"/",component:E}),r.a.createElement(W,{exact:!0,path:"/list",component:T}),r.a.createElement(W,{exact:!0,path:"/recipes",component:I}),r.a.createElement(W,{exact:!0,path:"/favoriterecipes",component:G}),r.a.createElement(W,{exact:!0,path:"/favoriterecipes/instructions/:id",component:K}),r.a.createElement(s.b,{exact:!0,path:"/login",component:w}),r.a.createElement(s.b,{exact:!0,path:"/signup",component:x}),r.a.createElement(s.b,{render:function(){return r.a.createElement(s.a,{to:"/"})}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(v,null,r.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[43,1,2]]]);
//# sourceMappingURL=main.3977e8b9.chunk.js.map